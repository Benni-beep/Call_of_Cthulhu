<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="description">
  <meta name="author" content="">
  <title>title</title>
  <style>
    .some-class {
      background-color: green;
    }

    #root {
      background-color: red;
    }

    p {
      width: 300px;
    }
  </style>
</head>

<body>
  <p>... character sheet</p>
  <div>
    <label for="character-name">Name:
      <input name="character-name" type="text">
    </label>

    <label for="character-age">Age:
      <input name="character-age" type="number" min="18" max="85" pattern="[0-9]+">
    </label>

    <input type="checkbox">
    <input type="date">
  </div>
</body>

<script>
  const character = {
    name: "Betsy Barrows",
    playerName: "Basti",
    occupation: "Hausmeisterin / Mechanikerin",
    birthday: new Date(1924 - 41, 7, 1),
    age: 41,
    gender: "female",
    placeOfResidence: "Arkham University",
    placeOfBirth: "Atlanta",
    attributes: {
      strength: {
        dc: 60,
        dcHard: 30,
        dcExtreme: 12
      },
      constitution: {
        dc: 30,
        dcHard: 15,
        dcExtreme: 6,
      },
      size: {
        dc: 65,
        dcHard: 32,
        dcExtreme: 13
      },
      dexterity: {
        dc: 45,
        dcHard: 22,
        dcExtreme: 9
      },
      appearance: {
        dc: 65,
        dcHard: 30,
        dcExtreme: 12
      },
      intelligence: {
        dc: 65,
        dcHard: 30,
        dcExtreme: 12
      },
      power: {
        dc: 50,
        dcHard: 25,
        dcExtreme: 10
      },
      education: {
        dc: 72,
        dcHard: 36,
        dcExtreme: 14
      },
      movement: 6,
    },
    luck: {
      current: 65,
      max: 99,
      unlucky: false
    },
    sanity: {
      current: 50,
      max: 99,
      temporarilyInsane: false,
      permanentlyInsane: false
    },
    hitPoints: {
      current: 9,
      max: 9,
      majorWound: false,
      unconcious: false,
      dying: false
    },
    magicPoints: {
      current: 10,
      max: 10
    },
    skills: {
      firstAid: {
        dc: 40,
        dcHard: 20,
        dcExtreme: 8
      },
      creditRating: 30,
      combat: {
        damageBonus: "+1d4",
        build: "+1",
        dodge: {
          dc: 22,
          dcHard: 11,
          dcExtreme: 4
        },
        meleeBrawl: {
          dc: 25,
          dcHard: 11,
          dcExtreme: 4,
          damage: "1d3 + dB",
          range: undefined
        },
        meleeAxe: {
          dc: 70,
          dcHard: 35,
          dcExtreme: 14,
          weapon: "Axe",
          damage: "1d8 + 2 + dB",
          range: undefined
        },
        rangedHandgun: {
          dc: 70,
          dcHard: 35,
          dcExtreme: 14,
          weapon: ".45 Revolver",
          damage: "1d10 + 2",
          range: "50 ft",
          numberAttacks: "1 (3)",
          ammo: {
            current: 6,
            max: 6
          },
          malfunction: 100,
        },
      },
    },
  }

  const nameInput = document.querySelector("input[name='character-name']");
  nameInput.value = character.name;

  const ageInput = document.querySelector("input[name='character-age']");
  ageInput.value = character.age;

  console.log('our original model: ', character);

  // immer wenn der nutzer den `value` von `nameInput` anpasst
  nameInput.addEventListener("change", overwriteCharacterName);
  ageInput.addEventListener("change", overwriteCharacterAge);

  // Ã¼berschreibe den wert in unserem model
  function overwriteCharacterName(changeEvent) {
    const newName = changeEvent.target.value;
    character.name = newName;
    console.log('our new model: ', character);
  }

  function overwriteCharacterAge(changeEvent) {
    const newAge = parseInt(changeEvent.target.value, 10);
    
    console.log(typeof newAge);
    if (Number.isInteger(newAge)) {
      console.log(newAge);
      character.age = newAge;
    }    
    else {
      window.alert("please enter a number");
    }



    console.log('our new model: ', character);
  }
</script>

</html>